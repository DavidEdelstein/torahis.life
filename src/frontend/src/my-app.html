<import from="./audio-player"></import>

<header>
    <h1>TorahIs.Life</h1>
</header>

<main>
    <div class="wrapper">
        <div class="card" repeat.for="shiur of shiurim">
            <span class="inner-border"></span>
            <h3>${shiur.subseries} - ${shiur.title}</h3>
            <h5>
                <div repeat.for="version of shiur.versions">
                    <a click.delegate="openDialog(shiur, version)" href="javascript:void(0)">${version.name} (${version.duration})</a>
                    <button type="button" title="Download the shiur" click.delegate="downloadShiur(shiur, version)">&#x21A7;</button>
                </div>
            </h5>
            <div>${shiur.author}</div>
        </div>
    </div>
</main>

<div class="faux-dialog" if.bind="selectedShiur">
    <div class="close" click.delegate="closeDialog()">X</div>
    <audio-player url="https://torahislife.azurewebsites.net/api/ShiurRetriever?name=${selectedShiur.getVersionLocation(selectedVersion)}"></audio-player>
</div>

<footer>Powered by Pinary Development LLC Â© ${copyrightYears}</footer>